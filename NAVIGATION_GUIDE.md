# å¯¼èˆªåˆ°å¯¼å…¥é¡µé¢çš„è¯¦ç»†æ­¥éª¤

## ğŸ¯ å¿«é€Ÿè§£å†³æ–¹æ¡ˆ

ä½ ç°åœ¨åœ¨**è®¾ç½®é¡µé¢**ï¼Œéœ€è¦ç‚¹å‡»é¡µé¢é¡¶éƒ¨çš„å¯¼èˆªæ ‡ç­¾åˆ‡æ¢åˆ°**ä¸»é¡µé¢**ã€‚

### æ“ä½œæ­¥éª¤ï¼š

```
å½“å‰ä½ç½®ï¼šç®¡ç†å‘˜ > æ’ä»¶ > Journals > è®¾ç½® (Settings)
                                      â†‘
                                   ä½ åœ¨è¿™é‡Œ

éœ€è¦ç‚¹å‡»ï¼šç®¡ç†å‘˜ > æ’ä»¶ > Journals > Journals (ä¸»é¡µé¢)
                                      â†‘
                                  ç‚¹å‡»è¿™é‡Œ
```

## ğŸ“¸ ç•Œé¢è¯´æ˜

åœ¨æ’ä»¶é¡µé¢é¡¶éƒ¨åº”è¯¥æœ‰è¿™æ ·çš„æ ‡ç­¾æ ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Journals æ’ä»¶                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Journals] [Settings]                   â”‚  â† æ ‡ç­¾æ 
â”‚    â†‘           â†‘                        â”‚
â”‚   ä¸»é¡µé¢      è®¾ç½®é¡µé¢(ä½ ç°åœ¨åœ¨è¿™é‡Œ)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å½“å‰çœ‹åˆ°çš„ï¼ˆSettings é¡µé¢ï¼‰ï¼š
- âœ… Discourse journals enabledï¼ˆå¯ç”¨æ’ä»¶ï¼‰
- âœ… Discourse journals category IDï¼ˆæœŸåˆŠåˆ†ç±»ï¼‰
- âœ… Discourse journals close topicsï¼ˆå…³é—­è¯é¢˜ï¼‰
- âœ… Discourse journals bypass bumpï¼ˆä¸ç½®é¡¶ï¼‰

### éœ€è¦çœ‹åˆ°çš„ï¼ˆJournals ä¸»é¡µé¢ï¼‰ï¼š
- ğŸ“¤ **Import Journals** æ ‡é¢˜
- ğŸ“ æ–‡ä»¶ä¸Šä¼ è¯´æ˜
- ğŸ”˜ JSON file (.json) æ–‡ä»¶é€‰æ‹©å™¨
- ğŸš€ **Start import** æŒ‰é’®

## ğŸ” å¦‚æœæ‰¾ä¸åˆ°æ ‡ç­¾

### æ–¹æ¡ˆ1ï¼šç›´æ¥è®¿é—® URL

åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼ˆæ›¿æ¢ä¸ºä½ çš„åŸŸåï¼‰ï¼š

```
http://ä½ çš„discourseåŸŸå/admin/plugins/journals
```

ä¾‹å¦‚ï¼š
```
http://localhost:3000/admin/plugins/journals
```

### æ–¹æ¡ˆ2ï¼šä»æ’ä»¶åˆ—è¡¨é‡æ–°è¿›å…¥

1. è¿”å›æ’ä»¶åˆ—è¡¨ï¼š`Admin â†’ Plugins`
2. åœ¨æ’ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ° **discourse-journals**
3. ç‚¹å‡»æ’ä»¶åç§°ï¼ˆä¸æ˜¯è®¾ç½®å›¾æ ‡ï¼‰

### æ–¹æ¡ˆ3ï¼šåˆ·æ–°é¡µé¢

å¦‚æœç•Œé¢æ²¡æœ‰æ­£ç¡®åŠ è½½ï¼Œå°è¯•ï¼š
1. åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+R æˆ– Cmd+Rï¼‰
2. æ¸…é™¤ç¼“å­˜ååˆ·æ–°ï¼ˆCtrl+Shift+R æˆ– Cmd+Shift+Rï¼‰

## ğŸ› å¯èƒ½çš„é—®é¢˜

### é—®é¢˜1ï¼šæ’ä»¶æœªæ­£ç¡®åŠ è½½

**ç—‡çŠ¶**ï¼šåªçœ‹åˆ°è®¾ç½®é¡µé¢ï¼Œæ²¡æœ‰ä¸»é¡µé¢æ ‡ç­¾

**è§£å†³æ–¹æ³•**ï¼š
```bash
# SSH ç™»å½•æœåŠ¡å™¨
cd /var/www/discourse

# é‡æ–°ç¼–è¯‘å‰ç«¯èµ„æº
RAILS_ENV=production bin/rake assets:precompile

# é‡å¯æœåŠ¡
sv restart unicorn
```

### é—®é¢˜2ï¼šJavaScript é”™è¯¯

**æ£€æŸ¥æ–¹æ³•**ï¼š
1. æŒ‰ F12 æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Console æ ‡ç­¾
3. æŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

**å¸¸è§é”™è¯¯**ï¼š
- æ‰¾ä¸åˆ°æ¨¡å—/ç»„ä»¶
- è¯­æ³•é”™è¯¯
- è·¯ç”±é…ç½®é”™è¯¯

### é—®é¢˜3ï¼šè·¯ç”±é…ç½®é—®é¢˜

**éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨**ï¼š

```bash
# æ£€æŸ¥å…³é”®æ–‡ä»¶
ls -la plugins/discourse-journals/admin/assets/javascripts/discourse/components/journals-admin.gjs
ls -la plugins/discourse-journals/admin/assets/javascripts/discourse/templates/admin-plugins/show/journals/index.gjs
ls -la plugins/discourse-journals/admin/assets/javascripts/discourse/routes/admin-plugins/show/journals/index.js
```

æ‰€æœ‰æ–‡ä»¶éƒ½åº”è¯¥å­˜åœ¨ã€‚

## ğŸ“‹ å®Œæ•´å¯¼èˆªè·¯å¾„

### ç¬¬ä¸€æ¬¡è®¿é—®ï¼š

```
1. ç™»å½• Discourse
   â†“
2. ç‚¹å‡»å³ä¸Šè§’å¤´åƒ
   â†“
3. ç‚¹å‡» "Admin" (ç®¡ç†å‘˜)
   â†“
4. å·¦ä¾§èœå• â†’ "Plugins" (æ’ä»¶)
   â†“
5. æ‰¾åˆ° "discourse-journals" æˆ– "Journals"
   â†“
6. ç‚¹å‡»æ’ä»¶åç§°ï¼ˆä¸æ˜¯æ—è¾¹çš„è®¾ç½®å›¾æ ‡ï¼‰
   â†“
7. ç¡®ä¿ä½ åœ¨ "Journals" æ ‡ç­¾ï¼ˆä¸æ˜¯ "Settings" æ ‡ç­¾ï¼‰
   â†“
8. çœ‹åˆ°å¯¼å…¥ç•Œé¢ âœ…
```

### å¿«é€Ÿè®¿é—®ï¼ˆä¹¦ç­¾ï¼‰ï¼š

å°†ä»¥ä¸‹ URL åŠ å…¥ä¹¦ç­¾ï¼š
```
http://ä½ çš„discourseåŸŸå/admin/plugins/journals
```

## ğŸ¨ æ­£ç¡®çš„ç•Œé¢åº”è¯¥æ˜¯è¿™æ ·çš„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Discourse                              [å¤´åƒ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â† è¿”å›è®ºå›                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  ç®¡ç†å‘˜ â€º æ’ä»¶ â€º Journals                       â”‚
â”‚                                                â”‚
â”‚  [Journals] [Settings]    â† æ ‡ç­¾æ              â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Journals                                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ Import Journals                          â”‚ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ Upload a JSON file containing journal    â”‚ â”‚
â”‚  â”‚ data from OpenAlex, Crossref, DOAJ,      â”‚ â”‚
â”‚  â”‚ NLM, and Wikidata...                     â”‚ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ JSON file (.json)                        â”‚ â”‚
â”‚  â”‚ [é€‰æ‹©æ–‡ä»¶...]  æœªé€‰æ‹©æ–‡ä»¶                  â”‚ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ [Start import] æŒ‰é’®                      â”‚ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ å¦‚æœä»ç„¶æ— æ³•è®¿é—®

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ä»¥ä¾¿è¯Šæ–­ï¼š

1. **æˆªå›¾**ï¼šæ˜¾ç¤ºå®Œæ•´çš„é¡µé¢ï¼ˆåŒ…æ‹¬é¡¶éƒ¨å¯¼èˆªï¼‰
2. **URL**ï¼šå½“å‰é¡µé¢çš„å®Œæ•´ URL
3. **æµè§ˆå™¨æ§åˆ¶å°**ï¼šF12 â†’ Console æ ‡ç­¾çš„é”™è¯¯ä¿¡æ¯
4. **æœåŠ¡å™¨æ—¥å¿—**ï¼š
   ```bash
   tail -50 /var/www/discourse/log/production.log
   ```

---

**å¿«é€Ÿæµ‹è¯•**ï¼šç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥ `/admin/plugins/journals`ï¼Œçœ‹æ˜¯å¦èƒ½æ­£ç¡®æ˜¾ç¤ºå¯¼å…¥ç•Œé¢ã€‚
